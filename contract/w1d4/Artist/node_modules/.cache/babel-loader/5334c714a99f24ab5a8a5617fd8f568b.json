{"ast":null,"code":"var _jsxFileName = \"/Users/vivi/Documents/Programming/project-flow/flow-dapperstarter-bootcamp/contract/w1d4/Artist/src/pages/Draw/Frame.jsx\",\n    _s = $RefreshSig$();\n\nimport classnames from 'classnames';\nimport { useState } from 'react';\nimport Picture from '../../model/Picture.js';\nimport './Frame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst constants = {\n  pixel: {\n    fill: {\n      [Picture.offPixel]: 'var(--material-grey-200)',\n      [Picture.onPixel]: 'var(--material-grey-800)'\n    }\n  },\n  icon: {\n    length: 32\n  }\n};\n\nfunction Frame(props) {\n  _s();\n\n  const [activePixel, setActivePixel] = useState(null);\n  const [brush, setBrush] = useState(null);\n  const isInteractive = props.onTogglePixel;\n  const width = props.grid.columns * (props.pixel.width + props.pixel.spacing) - props.pixel.spacing;\n  const height = props.grid.rows * (props.pixel.height + props.pixel.spacing) - props.pixel.spacing;\n  const pixels = [];\n\n  const onTogglePixel = index => {\n    setBrush(props.picture.pixelAt(index) === Picture.onPixel ? Picture.offPixel : Picture.onPixel);\n    props.onTogglePixel(index);\n  };\n\n  const onOverPixel = (index, isPrimaryPressed = false) => {\n    setActivePixel(index);\n\n    if (isPrimaryPressed) {\n      props.onTogglePixel(index, brush);\n    }\n  };\n\n  const onOutPixel = () => {\n    setActivePixel(null);\n  };\n\n  for (let row = 0; row < props.grid.rows; row += 1) {\n    for (let column = 0; column < props.grid.columns; column += 1) {\n      const index = row * props.grid.columns + column;\n      const x = column * (props.pixel.width + props.pixel.spacing);\n      const y = row * (props.pixel.height + props.pixel.spacing);\n      let fill = constants.pixel.offFill;\n\n      if (props.picture) {\n        fill = constants.pixel.fill[props.picture.pixelAt(index)];\n      }\n\n      const isOn = props.picture.pixelAt(index) === Picture.onPixel;\n      pixels.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: classnames({\n          'pixel': true,\n          'is-interactive': isInteractive\n        }),\n        x: x,\n        y: y,\n        onMouseDown: () => isInteractive && onTogglePixel(index),\n        onMouseEnter: event => isInteractive && onOverPixel(index, event.buttons === 1),\n        onMouseLeave: onOutPixel,\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: 0,\n          y: 0,\n          width: props.pixel.width,\n          height: props.pixel.height,\n          rx: props.pixel.cornerRadius,\n          fill: fill,\n          className: isOn ? 'isOn' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), isInteractive && activePixel === index && /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: constants.icon.length,\n          height: constants.icon.length,\n          x: props.pixel.width / 2 - constants.icon.length / 2,\n          y: props.pixel.height / 2 - constants.icon.length / 2,\n          viewBox: \"0 0 24 24\",\n          fill: constants.icon.fill,\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: 0,\n            y: 0,\n            width: 24,\n            height: 24,\n            rx: 24,\n            fill: \"var(--material-grey-100)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), props.picture.pixelAt(index) === Picture.offPixel && /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\",\n            fill: \"var(--material-green-400)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this), props.picture.pixelAt(index) === Picture.onPixel && /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 13H5v-2h14v2z\",\n            fill: \"var(--material-red-400)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    className: \"frame\",\n    viewBox: `0 0 ${width} ${height}`,\n    width: width,\n    height: height,\n    children: pixels\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Frame, \"8OzteLFWYN1z/H9WWgUILVyVM0w=\");\n\n_c = Frame;\nexport default Frame;\n\nvar _c;\n\n$RefreshReg$(_c, \"Frame\");","map":{"version":3,"sources":["/Users/vivi/Documents/Programming/project-flow/flow-dapperstarter-bootcamp/contract/w1d4/Artist/src/pages/Draw/Frame.jsx"],"names":["classnames","useState","Picture","constants","pixel","fill","offPixel","onPixel","icon","length","Frame","props","activePixel","setActivePixel","brush","setBrush","isInteractive","onTogglePixel","width","grid","columns","spacing","height","rows","pixels","index","picture","pixelAt","onOverPixel","isPrimaryPressed","onOutPixel","row","column","x","y","offFill","isOn","push","event","buttons","cornerRadius"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport {useState} from 'react';\n\nimport Picture from '../../model/Picture.js';\n\nimport './Frame.css';\n\nconst constants = {\n  pixel: {\n    fill: {\n      [Picture.offPixel]: 'var(--material-grey-200)',\n      [Picture.onPixel]: 'var(--material-grey-800)'\n    }\n  },\n  icon: {\n    length: 32\n  }\n};\n\nfunction Frame(props) {\n  const [activePixel, setActivePixel] = useState(null);\n  const [brush, setBrush] = useState(null);\n  const isInteractive = props.onTogglePixel;\n  \n  const width = (\n    props.grid.columns\n    * (props.pixel.width + props.pixel.spacing)\n    - props.pixel.spacing\n  );\n  const height = (\n    props.grid.rows\n    * (props.pixel.height + props.pixel.spacing)\n    - props.pixel.spacing\n  );\n\n  const pixels = [];\n\n  const onTogglePixel = (index) => {\n    setBrush(\n      props.picture.pixelAt(index) === Picture.onPixel\n      ? Picture.offPixel\n      : Picture.onPixel\n    )\n    props.onTogglePixel(index);\n  }\n  const onOverPixel = (index, isPrimaryPressed = false) => {\n    setActivePixel(index);\n    if (isPrimaryPressed) {\n      props.onTogglePixel(index, brush);\n    }\n  };\n  const onOutPixel = () => {\n    setActivePixel(null);\n  };\n\n  for (let row = 0; row < props.grid.rows; row += 1) {\n    for (let column = 0; column < props.grid.columns; column += 1) {\n      const index = row * props.grid.columns + column;\n      const x = column * (props.pixel.width + props.pixel.spacing);\n      const y = row * (props.pixel.height + props.pixel.spacing);\n      let fill = constants.pixel.offFill;\n      if (props.picture) {\n        fill = constants.pixel.fill[props.picture.pixelAt(index)];\n      }\n\n      const isOn = props.picture.pixelAt(index) === Picture.onPixel;\n\n      pixels.push(\n        <svg\n          key={index}\n          className={classnames({\n            'pixel': true,\n            'is-interactive': isInteractive\n          })}\n          x={x}\n          y={y}\n          onMouseDown={() => isInteractive && onTogglePixel(index)}\n          onMouseEnter={(event) => isInteractive && onOverPixel(index, event.buttons === 1)}\n          onMouseLeave={onOutPixel}\n        >\n          <rect\n            x={0}\n            y={0}\n            width={props.pixel.width}\n            height={props.pixel.height}\n            rx={props.pixel.cornerRadius}\n            fill={fill}\n            className={isOn ? 'isOn' : ''}\n          />\n          {isInteractive && activePixel === index &&\n            <svg\n              width={constants.icon.length}\n              height={constants.icon.length}\n              x={props.pixel.width/2 - constants.icon.length/2}\n              y={props.pixel.height/2 - constants.icon.length/2}\n              viewBox=\"0 0 24 24\"\n              fill={constants.icon.fill}\n            >\n              <rect\n                x={0}\n                y={0}\n                width={24}\n                height={24}\n                rx={24}\n                fill=\"var(--material-grey-100)\"\n              />\n              {props.picture.pixelAt(index) === Picture.offPixel &&\n                <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" fill=\"var(--material-green-400)\" />\n              }\n              {props.picture.pixelAt(index) === Picture.onPixel &&\n                <path d=\"M19 13H5v-2h14v2z\" fill=\"var(--material-red-400)\" />\n              }\n            </svg>\n          }\n        </svg>\n      );\n    }\n  }\n\n  return (\n    <svg\n      className=\"frame\"\n      viewBox={`0 0 ${width} ${height}`}\n      width={width}\n      height={height}\n    >\n      {pixels}\n    </svg>\n  );\n}\n\nexport default Frame;"]},"metadata":{},"sourceType":"module"}